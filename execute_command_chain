#include "shell.h"
/**
  *execute_command_chain - executes command chain
  *@command_chain: the command chain
  */
void execute_command_chain(char *command_chain)
{
	char *command, *pipeline_command;
	char *commands[MAX_ARGS], *pipeline_commands[MAX_ARGS];
	int command_count = 0, i, len;
	char *trimmed_command;
	int pipeline_command_count = 0;

	command = _strtok(command_chain, ";");
	while (command != NULL)
	{
		commands[command_count++] = command;
		command = strtok(NULL, ";");
	}
	for (i = 0; i < command_count; i++)
	{
		trimmed_command = commands[i];
		while (*trimmed_command == ' ' || *trimmed_command == '\t')
		{
			trimmed_command++;
		}
		len = strlen(trimmed_command);
		while (len > 0 && (trimmed_command[len - 1] == ' ' ||
					trimmed_command[len - 1] == '\t'))
		{
			trimmed_command[len - 1] = '\0';
			len--;
		}
		pipeline_command = strtok(trimmed_command, "|");
		while (pipeline_command != NULL)
		{
			pipeline_commands[pipeline_command_count++] = pipeline_command;
			pipeline_command = strtok(NULL, "|");
		}
		if (pipeline_command_count > 1)
	{
		execute_pipeline(pipeline_commands, pipeline_command_count);
	}
		else
			execute_action(pipeline_commands, "shell");
	}
}
